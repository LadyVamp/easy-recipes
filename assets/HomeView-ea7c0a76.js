import{c as P,a as v,h as _,b as R,r as $,g as ae,u as Z,i as me,o as pe,T as ye,Q as Se,w as be,v as Q,d as we,e as Ce,f as $e,_ as Be,j as qe,k as Ie,l as je,m as Te,n as N,p as g,q as p,s as d,F as I,t as z,x as D,y as w,z as c,A as G,B as X,C as Le,D as ee,E as te}from"./index-1f3cc886.js";import{Q as Oe}from"./QInput-1c1fb2d9.js";const U=P({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=v(()=>{const i=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(o=>e[o]===!0).map(o=>`q-btn-group--${o}`).join(" ");return`q-btn-group row no-wrap${i.length!==0?" "+i:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>_("div",{class:n.value},R(t.default))}}),ke={ratio:[String,Number]};function Ne(e,t){return v(()=>{const n=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const ze=1.7778,De=P({name:"QImg",props:{...ke,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:ze},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const i=$(e.initialRatio),o=Ne(e,i),s=ae(),{registerTimeout:y,removeTimeout:h}=Z(),{registerTimeout:f,removeTimeout:S}=Z(),a=v(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),l=v(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),u=[$(null),$(a.value)],m=$(0),L=$(!1),O=$(!1),le=v(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),ue=v(()=>({width:e.width,height:e.height})),ce=v(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),de=v(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function he(){if(S(),e.loadingShowDelay===0){L.value=!0;return}f(()=>{L.value=!0},e.loadingShowDelay)}function H(){S(),L.value=!1}function fe({target:r}){Q(s)===!1&&(h(),i.value=r.naturalHeight===0?.5:r.naturalWidth/r.naturalHeight,W(r,1))}function W(r,b){b===1e3||Q(s)===!0||(r.complete===!0?ge(r):y(()=>{W(r,b+1)},50))}function ge(r){Q(s)!==!0&&(m.value=m.value^1,u[m.value].value=null,H(),r.getAttribute("__qerror")!=="true"&&(O.value=!1),n("load",r.currentSrc||r.src))}function _e(r){h(),H(),O.value=!0,u[m.value].value=l.value,u[m.value^1].value=a.value,n("error",r)}function Y(r){const b=u[r].value,k={key:"img_"+r,class:ce.value,style:de.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...b};return m.value===r?Object.assign(k,{class:k.class+"current",onLoad:fe,onError:_e}):k.class+="loaded",_("div",{class:"q-img__container absolute-full",key:"img"+r},_("img",k))}function ve(){return L.value===!1?_("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},R(t[O.value===!0?"error":"default"])):_("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[_(Se,{color:e.spinnerColor,size:e.spinnerSize})])}{let r=function(){be(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,b=>{h(),O.value=!1,b===null?(H(),u[m.value^1].value=a.value):he(),u[m.value].value=b},{immediate:!0})};me.value===!0?pe(r):r()}return()=>{const r=[];return o.value!==null&&r.push(_("div",{key:"filler",style:o.value})),u[0].value!==null&&r.push(Y(0)),u[1].value!==null&&r.push(Y(1)),r.push(_(ye,{name:"q-transition--fade"},ve)),_("div",{key:"main",class:le.value,style:ue.value,role:"img","aria-label":e.alt},r)}}}),Ee=P({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=v(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>_(e.tag,{class:n.value},R(t.default))}}),Fe=P({name:"QCard",props:{...we,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=ae(),i=Ce(e,n),o=v(()=>"q-card"+(i.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>_(e.tag,{class:o.value},R(t.default))}});var Pe=typeof global=="object"&&global&&global.Object===Object&&global;const Re=Pe;var Ve=typeof self=="object"&&self&&self.Object===Object&&self,Ae=Re||Ve||Function("return this")();const V=Ae;var xe=V.Symbol;const E=xe;var re=Object.prototype,He=re.hasOwnProperty,Qe=re.toString,j=E?E.toStringTag:void 0;function Ge(e){var t=He.call(e,j),n=e[j];try{e[j]=void 0;var i=!0}catch{}var o=Qe.call(e);return i&&(t?e[j]=n:delete e[j]),o}var Ue=Object.prototype,Ke=Ue.toString;function Me(e){return Ke.call(e)}var Je="[object Null]",We="[object Undefined]",ne=E?E.toStringTag:void 0;function Ye(e){return e==null?e===void 0?We:Je:ne&&ne in Object(e)?Ge(e):Me(e)}function oe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ze="[object AsyncFunction]",Xe="[object Function]",et="[object GeneratorFunction]",tt="[object Proxy]";function nt(e){if(!oe(e))return!1;var t=Ye(e);return t==Xe||t==et||t==Ze||t==tt}var it=V["__core-js_shared__"];const K=it;var ie=function(){var e=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function at(e){return!!ie&&ie in e}var rt=Function.prototype,ot=rt.toString;function st(e){if(e!=null){try{return ot.call(e)}catch{}try{return e+""}catch{}}return""}var lt=/[\\^$.*+?()[\]{}|]/g,ut=/^\[object .+?Constructor\]$/,ct=Function.prototype,dt=Object.prototype,ht=ct.toString,ft=dt.hasOwnProperty,gt=RegExp("^"+ht.call(ft).replace(lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _t(e){if(!oe(e)||at(e))return!1;var t=nt(e)?gt:ut;return t.test(st(e))}function vt(e,t){return e==null?void 0:e[t]}function J(e,t){var n=vt(e,t);return _t(n)?n:void 0}var mt=J(Object,"create");const T=mt;function pt(){this.__data__=T?T(null):{},this.size=0}function yt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var St="__lodash_hash_undefined__",bt=Object.prototype,wt=bt.hasOwnProperty;function Ct(e){var t=this.__data__;if(T){var n=t[e];return n===St?void 0:n}return wt.call(t,e)?t[e]:void 0}var $t=Object.prototype,Bt=$t.hasOwnProperty;function qt(e){var t=this.__data__;return T?t[e]!==void 0:Bt.call(t,e)}var It="__lodash_hash_undefined__";function jt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=T&&t===void 0?It:t,this}function C(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}C.prototype.clear=pt;C.prototype.delete=yt;C.prototype.get=Ct;C.prototype.has=qt;C.prototype.set=jt;function Tt(){this.__data__=[],this.size=0}function Lt(e,t){return e===t||e!==e&&t!==t}function A(e,t){for(var n=e.length;n--;)if(Lt(e[n][0],t))return n;return-1}var Ot=Array.prototype,kt=Ot.splice;function Nt(e){var t=this.__data__,n=A(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():kt.call(t,n,1),--this.size,!0}function zt(e){var t=this.__data__,n=A(t,e);return n<0?void 0:t[n][1]}function Dt(e){return A(this.__data__,e)>-1}function Et(e,t){var n=this.__data__,i=A(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}function B(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}B.prototype.clear=Tt;B.prototype.delete=Nt;B.prototype.get=zt;B.prototype.has=Dt;B.prototype.set=Et;var Ft=J(V,"Map");const Pt=Ft;function Rt(){this.size=0,this.__data__={hash:new C,map:new(Pt||B),string:new C}}function Vt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function x(e,t){var n=e.__data__;return Vt(t)?n[typeof t=="string"?"string":"hash"]:n.map}function At(e){var t=x(this,e).delete(e);return this.size-=t?1:0,t}function xt(e){return x(this,e).get(e)}function Ht(e){return x(this,e).has(e)}function Qt(e,t){var n=x(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function q(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}q.prototype.clear=Rt;q.prototype.delete=At;q.prototype.get=xt;q.prototype.has=Ht;q.prototype.set=Qt;var Gt="__lodash_hash_undefined__";function Ut(e){return this.__data__.set(e,Gt),this}function Kt(e){return this.__data__.has(e)}function F(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new q;++t<n;)this.add(e[t])}F.prototype.add=F.prototype.push=Ut;F.prototype.has=Kt;function Mt(e,t,n,i){for(var o=e.length,s=n+(i?1:-1);i?s--:++s<o;)if(t(e[s],s,e))return s;return-1}function Jt(e){return e!==e}function Wt(e,t,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===t)return i;return-1}function Yt(e,t,n){return t===t?Wt(e,t,n):Mt(e,Jt,n)}function Zt(e,t){var n=e==null?0:e.length;return!!n&&Yt(e,t,0)>-1}function Xt(e,t,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(t,e[i]))return!0;return!1}function en(e,t){return e.has(t)}var tn=J(V,"Set");const M=tn;function nn(){}function se(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}var an=1/0,rn=M&&1/se(new M([,-0]))[1]==an?function(e){return new M(e)}:nn;const on=rn;var sn=200;function ln(e,t,n){var i=-1,o=Zt,s=e.length,y=!0,h=[],f=h;if(n)y=!1,o=Xt;else if(s>=sn){var S=t?null:on(e);if(S)return se(S);y=!1,o=en,f=new F}else f=t?[]:h;e:for(;++i<s;){var a=e[i],l=t?t(a):a;if(a=n||a!==0?a:0,y&&l===l){for(var u=f.length;u--;)if(f[u]===l)continue e;t&&f.push(l),h.push(a)}else o(f,l,n)||(f!==h&&f.push(l),h.push(a))}return h}function un(e){return e&&e.length?ln(e):[]}const cn=$e({name:"RecipesList",components:{IconNature:Be,IconFeature:qe,IconSeason:Ie},data(){return{recipes:[],filteredList:[],searchValue:"",searchKeys:[{value:"title",label:"По названию"},{value:"ingredients",label:"По ингредиентам"}],selectedSearchKey:{value:"title",label:"По названию"},servings:[{value:"all",label:"Все"},{value:2,label:2},{value:4,label:4},{value:6,label:6}],selectedServings:{value:"all",label:"Все"},natureButtons:[{name:"all",title:"Все",icon:"mdi-layers-outline",color:"yellow-6"},{name:"vegetable",title:"Овощи и фрукты",icon:"mdi-food-apple",color:"green-6"},{name:"bird",title:"Птица",icon:"mdi-food-drumstick",color:"pink-2"},{name:"meat",title:"Мясо",icon:"mdi-food-steak",color:"red-4"},{name:"fish",title:"Рыба и морепродукты",icon:"mdi-fish",color:"blue-5"},{name:"dairy",title:"Молочные продукты",icon:"mdi-cheese",color:"yellow-7"},{name:"dessert",title:"Десерт",icon:"mdi-candy",color:"lime-6"}],featureButtons:[{name:"all",title:"Все",icon:"mdi-layers-outline"},{name:"fast",title:"Быстрый",icon:"mdi-clock-fast"},{name:"oven",title:"Духовка",icon:"mdi-stove"},{name:"pot",title:"Кастрюля",icon:"mdi-pot-steam-outline"},{name:"stewingdish",title:"Утятница",icon:"mdi-dome-light"},{name:"grill",title:"Гриль",icon:"mdi-grill"},{name:"toaster",title:"Мультипекарь",icon:"mdi-toaster"},{name:"afghan_cauldron",title:"Афганский казан",icon:"mdi-kettlebell"}],seasonButtons:[{name:"all",title:"Все сезоны",icon:"mdi-sun-snowflake",color:"light-green-5"},{name:"summer",title:"Лето",icon:"mdi-white-balance-sunny",color:"yellow-6"}]}},created(){this.loadRecipes()},updated(){this.recipes.length===0&&this.searchValue===""&&this.loadRecipes()},methods:{loadRecipes(){je().then(e=>{this.recipes=this.filteredList=e.recipes.reverse().filter(t=>t.title!=="template_title")}).catch(e=>console.error(e))},onSearchInput(){const e=this.searchValue.toLowerCase();e!==""&&this.selectedSearchKey.value==="title"&&(this.filteredList=this.searchByTitle(e)),e!==""&&this.selectedSearchKey.value==="ingredients"&&(this.filteredList=this.searchByIngredients(e))},searchByTitle(e){return this.recipes.filter(t=>t.title.toLowerCase().includes(e))},searchByIngredients(e){let t=[];return this.recipes.forEach(n=>{n.ingredients&&Object.keys(n.ingredients).forEach(i=>{i.toLowerCase().includes(e)&&t.push(n)})}),un(t)},filterByNature(e){e.name==="all"?this.filteredList=this.recipes:this.filteredList=this.recipes.filter(t=>e.name===t.nature)},filterByFeature(e){e.name==="all"?this.filteredList=this.recipes:this.filteredList=this.recipes.filter(t=>e.name===t.feature)},filterBySeason(e){e.name==="all"?this.filteredList=this.recipes:this.filteredList=this.recipes.filter(t=>e.name===t.season)},onServingsSelect(e){e.value==="all"?this.filteredList=this.recipes:this.filteredList=this.recipes.filter(t=>t.servings===e.value)}}});const dn={class:"row"},hn={class:"col-6 col-md-6 col-xs-12 column justify-start items-start content-start"},fn={class:"q-pa-xs"},gn={class:"q-pa-xs"},_n={class:"q-pa-xs"},vn={class:"col-6 col-md-6 col-xs-12"},mn={class:"row"},pn={class:"col-6"},yn={class:"col-6"},Sn={class:"row justify-between q-pa-xs"},bn={class:"col-4"},wn={class:"col-1 q-mt-lg w-50"},Cn={key:0,class:"invisible"},$n={key:1,class:"row q-mt-md q-mr-sm"},Bn={class:"text-h6 q-pa-xs"};function qn(e,t,n,i,o,s){const y=N("IconNature"),h=N("IconFeature"),f=N("IconSeason"),S=N("router-link");return g(),p(I,null,[d("div",dn,[d("div",hn,[d("div",fn,[(g(!0),p(I,null,z(e.natureButtons,(a,l)=>(g(),D(U,{key:l,outline:"",class:"d-block"},{default:w(()=>[c(G,{outline:"",color:a.color,icon:a.icon,title:a.title,class:"border-gray",onClick:u=>e.filterByNature(a)},null,8,["color","icon","title","onClick"])]),_:2},1024))),128))]),d("div",gn,[(g(!0),p(I,null,z(e.featureButtons,(a,l)=>(g(),D(U,{key:l,outline:""},{default:w(()=>[c(G,{outline:"",color:"orange-5",icon:a.icon,title:a.title,class:"border-gray",onClick:u=>e.filterByFeature(a)},null,8,["icon","title","onClick"])]),_:2},1024))),128))]),d("div",_n,[(g(!0),p(I,null,z(e.seasonButtons,(a,l)=>(g(),D(U,{key:l,outline:""},{default:w(()=>[c(G,{outline:"",color:a.color,icon:a.icon,title:a.title,class:"border-gray",onClick:u=>e.filterBySeason(a)},null,8,["color","icon","title","onClick"])]),_:2},1024))),128))])]),d("div",vn,[d("div",mn,[d("div",pn,[c(X,{modelValue:e.selectedSearchKey,"onUpdate:modelValue":t[0]||(t[0]=a=>e.selectedSearchKey=a),options:e.searchKeys,label:"Поиск"},null,8,["modelValue","options"])]),d("div",yn,[c(Oe,{modelValue:e.searchValue,"onUpdate:modelValue":[t[1]||(t[1]=a=>e.searchValue=a),e.onSearchInput],filled:"",type:"search",hint:"Поиск"},{append:w(()=>[c(Le,{name:"search"})]),_:1},8,["modelValue","onUpdate:modelValue"])])])])]),d("div",Sn,[d("div",bn,[c(X,{modelValue:e.selectedServings,"onUpdate:modelValue":[t[2]||(t[2]=a=>e.selectedServings=a),e.onServingsSelect],options:e.servings,label:"Порций",class:"select-servings"},null,8,["modelValue","options","onUpdate:modelValue"])]),d("div",wn,ee(e.filteredList.length),1)]),e.filteredList.length<4?(g(),p("div",Cn," Текст, чтобы блоки не скукожились. Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolore quae molestias perspiciatis beatae? Culpa nisi dolorum sed id impedit illo enim fugit molestias obcaecati esse. ")):te("",!0),e.filteredList.length>0?(g(),p("div",$n,[(g(!0),p(I,null,z(e.filteredList,a=>(g(),p("div",{key:a.id,class:"col-md-4 col-xl-3 col-xs-12"},[c(Fe,{class:"my-card"},{default:w(()=>[c(Ee,null,{default:w(()=>[c(S,{to:{name:"RecipeDetails",params:{id:a.id}}},{default:w(()=>[c(De,{src:"/easy-recipes/recipe-images/"+a.id+".jpg",height:"200px"},null,8,["src"]),d("div",Bn,ee(a.title),1),c(y,{nature:a.nature},null,8,["nature"]),c(h,{feature:a.feature},null,8,["feature"]),c(f,{season:a.season},null,8,["season"])]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024)]))),128))])):te("",!0)],64)}const In=Te(cn,[["render",qn],["__scopeId","data-v-23000e05"]]),Ln={__name:"HomeView",setup(e){return(t,n)=>(g(),D(In))}};export{Ln as default};
