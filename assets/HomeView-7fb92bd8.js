import{c as ie,a as _,h as m,b as re,r as $,g as pe,u as Y,i as _e,o as ye,T as Se,Q as be,w as we,v as H,d as Ce,_ as $e,e as Be,f as Ie,j as Te,k as je,l as E,m as h,n as p,p as d,F as T,q as F,s as L,t as w,x as s,y as K,z as Z,A as X,B as ee,C as Le,D as M}from"./index-ad323c37.js";import{Q as Oe}from"./QInput-6f05e9fb.js";import{Q as ke,a as qe}from"./QCard-d5f52e10.js";const x=ie({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=_(()=>{const r=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(o=>e[o]===!0).map(o=>`q-btn-group--${o}`).join(" ");return`q-btn-group row no-wrap${r.length!==0?" "+r:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>m("div",{class:n.value},re(t.default))}}),Ne={ratio:[String,Number]};function Ee(e,t){return _(()=>{const n=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const Fe=1.7778,Ve=ie({name:"QImg",props:{...Ne,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Fe},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const r=$(e.initialRatio),o=Ee(e,r),l=pe(),{registerTimeout:y,removeTimeout:f}=Y(),{registerTimeout:g,removeTimeout:S}=Y(),i=_(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),u=_(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),c=[$(null),$(i.value)],v=$(0),k=$(!1),q=$(!1),le=_(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),ue=_(()=>({width:e.width,height:e.height})),ce=_(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),de=_(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function he(){if(S(),e.loadingShowDelay===0){k.value=!0;return}g(()=>{k.value=!0},e.loadingShowDelay)}function R(){S(),k.value=!1}function fe({target:a}){H(l)===!1&&(f(),r.value=a.naturalHeight===0?.5:a.naturalWidth/a.naturalHeight,J(a,1))}function J(a,b){b===1e3||H(l)===!0||(a.complete===!0?ge(a):y(()=>{J(a,b+1)},50))}function ge(a){H(l)!==!0&&(v.value=v.value^1,c[v.value].value=null,R(),a.getAttribute("__qerror")!=="true"&&(q.value=!1),n("load",a.currentSrc||a.src))}function me(a){f(),R(),q.value=!0,c[v.value].value=u.value,c[v.value^1].value=i.value,n("error",a)}function W(a){const b=c[a].value,N={key:"img_"+a,class:ce.value,style:de.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...b};return v.value===a?Object.assign(N,{class:N.class+"current",onLoad:fe,onError:me}):N.class+="loaded",m("div",{class:"q-img__container absolute-full",key:"img"+a},m("img",N))}function ve(){return k.value===!1?m("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},re(t[q.value===!0?"error":"default"])):m("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[m(be,{color:e.spinnerColor,size:e.spinnerSize})])}{let a=function(){we(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,b=>{f(),q.value=!1,b===null?(R(),c[v.value^1].value=i.value):he(),c[v.value].value=b},{immediate:!0})};_e.value===!0?ye(a):a()}return()=>{const a=[];return o.value!==null&&a.push(m("div",{key:"filler",style:o.value})),c[0].value!==null&&a.push(W(0)),c[1].value!==null&&a.push(W(1)),a.push(m(Se,{name:"q-transition--fade"},ve)),m("div",{key:"main",class:le.value,style:ue.value,role:"img","aria-label":e.alt},a)}}});var ze=typeof global=="object"&&global&&global.Object===Object&&global;const De=ze;var Ae=typeof self=="object"&&self&&self.Object===Object&&self,Pe=De||Ae||Function("return this")();const D=Pe;var Re=D.Symbol;const V=Re;var ae=Object.prototype,He=ae.hasOwnProperty,Ke=ae.toString,j=V?V.toStringTag:void 0;function Me(e){var t=He.call(e,j),n=e[j];try{e[j]=void 0;var r=!0}catch{}var o=Ke.call(e);return r&&(t?e[j]=n:delete e[j]),o}var xe=Object.prototype,Qe=xe.toString;function Ue(e){return Qe.call(e)}var Ge="[object Null]",Je="[object Undefined]",te=V?V.toStringTag:void 0;function We(e){return e==null?e===void 0?Je:Ge:te&&te in Object(e)?Me(e):Ue(e)}function oe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ye="[object AsyncFunction]",Ze="[object Function]",Xe="[object GeneratorFunction]",et="[object Proxy]";function tt(e){if(!oe(e))return!1;var t=We(e);return t==Ze||t==Xe||t==Ye||t==et}var nt=D["__core-js_shared__"];const Q=nt;var ne=function(){var e=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function it(e){return!!ne&&ne in e}var rt=Function.prototype,at=rt.toString;function ot(e){if(e!=null){try{return at.call(e)}catch{}try{return e+""}catch{}}return""}var st=/[\\^$.*+?()[\]{}|]/g,lt=/^\[object .+?Constructor\]$/,ut=Function.prototype,ct=Object.prototype,dt=ut.toString,ht=ct.hasOwnProperty,ft=RegExp("^"+dt.call(ht).replace(st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gt(e){if(!oe(e)||it(e))return!1;var t=tt(e)?ft:lt;return t.test(ot(e))}function mt(e,t){return e==null?void 0:e[t]}function G(e,t){var n=mt(e,t);return gt(n)?n:void 0}var vt=G(Object,"create");const O=vt;function pt(){this.__data__=O?O(null):{},this.size=0}function _t(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var yt="__lodash_hash_undefined__",St=Object.prototype,bt=St.hasOwnProperty;function wt(e){var t=this.__data__;if(O){var n=t[e];return n===yt?void 0:n}return bt.call(t,e)?t[e]:void 0}var Ct=Object.prototype,$t=Ct.hasOwnProperty;function Bt(e){var t=this.__data__;return O?t[e]!==void 0:$t.call(t,e)}var It="__lodash_hash_undefined__";function Tt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=O&&t===void 0?It:t,this}function C(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}C.prototype.clear=pt;C.prototype.delete=_t;C.prototype.get=wt;C.prototype.has=Bt;C.prototype.set=Tt;function jt(){this.__data__=[],this.size=0}function Lt(e,t){return e===t||e!==e&&t!==t}function A(e,t){for(var n=e.length;n--;)if(Lt(e[n][0],t))return n;return-1}var Ot=Array.prototype,kt=Ot.splice;function qt(e){var t=this.__data__,n=A(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():kt.call(t,n,1),--this.size,!0}function Nt(e){var t=this.__data__,n=A(t,e);return n<0?void 0:t[n][1]}function Et(e){return A(this.__data__,e)>-1}function Ft(e,t){var n=this.__data__,r=A(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function B(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}B.prototype.clear=jt;B.prototype.delete=qt;B.prototype.get=Nt;B.prototype.has=Et;B.prototype.set=Ft;var Vt=G(D,"Map");const zt=Vt;function Dt(){this.size=0,this.__data__={hash:new C,map:new(zt||B),string:new C}}function At(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function P(e,t){var n=e.__data__;return At(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Pt(e){var t=P(this,e).delete(e);return this.size-=t?1:0,t}function Rt(e){return P(this,e).get(e)}function Ht(e){return P(this,e).has(e)}function Kt(e,t){var n=P(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function I(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}I.prototype.clear=Dt;I.prototype.delete=Pt;I.prototype.get=Rt;I.prototype.has=Ht;I.prototype.set=Kt;var Mt="__lodash_hash_undefined__";function xt(e){return this.__data__.set(e,Mt),this}function Qt(e){return this.__data__.has(e)}function z(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new I;++t<n;)this.add(e[t])}z.prototype.add=z.prototype.push=xt;z.prototype.has=Qt;function Ut(e,t,n,r){for(var o=e.length,l=n+(r?1:-1);r?l--:++l<o;)if(t(e[l],l,e))return l;return-1}function Gt(e){return e!==e}function Jt(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function Wt(e,t,n){return t===t?Jt(e,t,n):Ut(e,Gt,n)}function Yt(e,t){var n=e==null?0:e.length;return!!n&&Wt(e,t,0)>-1}function Zt(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Xt(e,t){return e.has(t)}var en=G(D,"Set");const U=en;function tn(){}function se(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var nn=1/0,rn=U&&1/se(new U([,-0]))[1]==nn?function(e){return new U(e)}:tn;const an=rn;var on=200;function sn(e,t,n){var r=-1,o=Yt,l=e.length,y=!0,f=[],g=f;if(n)y=!1,o=Zt;else if(l>=on){var S=t?null:an(e);if(S)return se(S);y=!1,o=Xt,g=new z}else g=t?[]:f;e:for(;++r<l;){var i=e[r],u=t?t(i):i;if(i=n||i!==0?i:0,y&&u===u){for(var c=g.length;c--;)if(g[c]===u)continue e;t&&g.push(u),f.push(i)}else o(g,u,n)||(g!==f&&g.push(u),f.push(i))}return f}function ln(e){return e&&e.length?sn(e):[]}const un=Ce({name:"RecipesList",components:{IconNature:$e,IconFeature:Be,IconSeason:Ie},data(){return{isShowKidsMenu:!1,recipes:[],filteredList:[],searchValue:"",searchKeys:[{value:"title",label:"По названию"},{value:"ingredients",label:"По ингредиентам"}],selectedSearchKey:{value:"title",label:"По названию"},servings:[{value:"all",label:"Все"},{value:2,label:2},{value:4,label:4},{value:6,label:6}],selectedServings:{value:"all",label:"Все"},natureButtons:[{name:"all",title:"Все",icon:"mdi-layers-outline",color:"yellow-6"},{name:"vegetable",title:"Овощи и фрукты",icon:"mdi-food-apple",color:"green-6"},{name:"bird",title:"Птица",icon:"mdi-food-drumstick",color:"pink-2"},{name:"meat",title:"Мясо",icon:"mdi-food-steak",color:"red-4"},{name:"fish",title:"Рыба и морепродукты",icon:"mdi-fish",color:"blue-5"},{name:"dairy",title:"Молочные продукты",icon:"mdi-cheese",color:"yellow-7"},{name:"dessert",title:"Десерт",icon:"mdi-candy",color:"lime-6"}],featureButtons:[{name:"all",title:"Все",icon:"mdi-layers-outline"},{name:"fast",title:"Быстрый",icon:"mdi-clock-fast"},{name:"oven",title:"Духовка",icon:"mdi-stove"},{name:"pot",title:"Кастрюля",icon:"mdi-pot-steam-outline"},{name:"stewingdish",title:"Утятница",icon:"mdi-dome-light"},{name:"grill",title:"Гриль",icon:"mdi-grill"},{name:"multicooker",title:"Мультиварка",icon:"mdi-food-takeout-box-outline"},{name:"sous_vide",title:"Су-вид",icon:"mdi-alpha-v-circle-outline"}],seasonButtons:[{name:"all",title:"Все сезоны",icon:"mdi-sun-snowflake",color:"light-green-5"},{name:"summer",title:"Лето",icon:"mdi-white-balance-sunny",color:"yellow-6"}]}},created(){this.loadRecipes()},updated(){this.recipes.length===0&&this.searchValue===""&&this.loadRecipes()},methods:{loadRecipes(){Te().then(e=>{this.recipes=this.filteredList=e.recipes.reverse().filter(t=>t.title!=="template_title")}).catch(e=>console.error(e))},onSearchInput(){const e=this.searchValue.toLowerCase().trim();e!==""&&this.selectedSearchKey.value==="title"&&(this.filteredList=this.searchByTitle(e)),e!==""&&this.selectedSearchKey.value==="ingredients"&&(this.filteredList=this.searchByIngredients(e))},searchByTitle(e){return this.recipes.filter(t=>t.title.toLowerCase().includes(e))},searchByIngredients(e){let t=[];return this.recipes.forEach(n=>{n.ingredients&&Object.keys(n.ingredients).forEach(r=>{r.toLowerCase().includes(e)&&t.push(n)})}),ln(t)},filterByNature(e){e.name==="all"?this.filteredList=this.recipes:this.filteredList=this.recipes.filter(t=>e.name===t.nature)},filterByFeature(e){e.name==="all"?this.filteredList=this.recipes:this.filteredList=this.recipes.filter(t=>e.name===t.feature)},filterBySeason(e){e.name==="all"?this.filteredList=this.recipes:this.filteredList=this.recipes.filter(t=>e.name===t.season)},onServingsSelect(e){e.value==="all"?this.filteredList=this.recipes:this.filteredList=this.recipes.filter(t=>t.servings===e.value)},filterByIsKidsMenu(){this.isShowKidsMenu===!0?this.filteredList=this.recipes.filter(e=>e.isKidsMenu===!0):this.filteredList=this.recipes}}});const cn={class:"row"},dn={class:"col-6 col-md-6 col-xs-12 column justify-start items-start content-start"},hn={class:"q-pa-xs"},fn={class:"q-pa-xs"},gn={class:"q-pa-xs"},mn={class:"col-6 col-md-6 col-xs-12"},vn={class:"row"},pn={class:"col-6"},_n={class:"col-6"},yn={class:"row justify-between q-pa-xs"},Sn={class:"col-1 q-mt-lg w-50"},bn={key:0,class:"invisible"},wn={key:1,class:"row q-mt-md q-mr-sm"},Cn={class:"text-h6 q-pa-xs"};function $n(e,t,n,r,o,l){const y=E("IconNature"),f=E("IconFeature"),g=E("IconSeason"),S=E("router-link");return h(),p(T,null,[d("div",cn,[d("div",dn,[d("div",hn,[(h(!0),p(T,null,F(e.natureButtons,(i,u)=>(h(),L(x,{key:u,outline:"",class:"d-block"},{default:w(()=>[s(K,{outline:"",color:i.color,icon:i.icon,title:i.title,class:"border-gray",onClick:c=>e.filterByNature(i)},null,8,["color","icon","title","onClick"])]),_:2},1024))),128))]),d("div",fn,[(h(!0),p(T,null,F(e.featureButtons,(i,u)=>(h(),L(x,{key:u,outline:""},{default:w(()=>[s(K,{outline:"",color:"orange-5",icon:i.icon,title:i.title,class:"border-gray",onClick:c=>e.filterByFeature(i)},null,8,["icon","title","onClick"])]),_:2},1024))),128))]),d("div",gn,[(h(!0),p(T,null,F(e.seasonButtons,(i,u)=>(h(),L(x,{key:u,outline:""},{default:w(()=>[s(K,{outline:"",color:i.color,icon:i.icon,title:i.title,class:"border-gray",onClick:c=>e.filterBySeason(i)},null,8,["color","icon","title","onClick"])]),_:2},1024))),128))])]),d("div",mn,[d("div",vn,[d("div",pn,[s(Z,{modelValue:e.selectedSearchKey,"onUpdate:modelValue":t[0]||(t[0]=i=>e.selectedSearchKey=i),options:e.searchKeys,label:"Поиск"},null,8,["modelValue","options"])]),d("div",_n,[s(Oe,{modelValue:e.searchValue,"onUpdate:modelValue":[t[1]||(t[1]=i=>e.searchValue=i),e.onSearchInput],filled:"",type:"search",hint:"Поиск"},{append:w(()=>[s(X,{name:"search"})]),_:1},8,["modelValue","onUpdate:modelValue"])])])])]),d("div",yn,[d("div",null,[s(Z,{modelValue:e.selectedServings,"onUpdate:modelValue":[t[2]||(t[2]=i=>e.selectedServings=i),e.onServingsSelect],options:e.servings,label:"Порций",class:"select-servings"},null,8,["modelValue","options","onUpdate:modelValue"])]),d("div",Sn,ee(e.filteredList.length),1)]),d("div",null,[s(Le,{modelValue:e.isShowKidsMenu,"onUpdate:modelValue":t[3]||(t[3]=i=>e.isShowKidsMenu=i),"checked-icon":"mdi-teddy-bear",color:"orange-10",label:"Детское меню",onClick:e.filterByIsKidsMenu},null,8,["modelValue","onClick"])]),e.filteredList.length<4?(h(),p("div",bn," Текст, чтобы блоки не скукожились. Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolore quae molestias perspiciatis beatae? Culpa nisi dolorum sed id impedit illo enim fugit molestias obcaecati esse. ")):M("",!0),e.filteredList.length>0?(h(),p("div",wn,[(h(!0),p(T,null,F(e.filteredList,i=>(h(),p("div",{key:i.id,class:"col-md-4 col-xl-3 col-xs-12"},[s(qe,{class:"my-card"},{default:w(()=>[s(ke,null,{default:w(()=>[s(S,{to:{name:"RecipeDetails",params:{id:i.id}}},{default:w(()=>[s(Ve,{src:"/easy-recipes/recipe-images/"+i.id+".jpg",height:"200px"},null,8,["src"]),d("div",Cn,ee(i.title),1),s(y,{nature:i.nature},null,8,["nature"]),s(f,{feature:i.feature},null,8,["feature"]),s(g,{season:i.season},null,8,["season"]),i.isKidsMenu?(h(),L(X,{key:0,name:"mdi-teddy-bear",color:"orange-10",size:"24px",title:"Детское меню"})):M("",!0)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024)]))),128))])):M("",!0)],64)}const Bn=je(un,[["render",$n],["__scopeId","data-v-93525f1b"]]),Ln={__name:"HomeView",setup(e){return(t,n)=>(h(),L(Bn))}};export{Ln as default};
