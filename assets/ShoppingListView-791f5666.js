import{c as F,G as J,H as M,a as R,h as W,b as G,I as H,J as X,K as Y,L as Z,P as b,M as j,N as ee,d as te,O as oe,r as m,m as h,n as k,p,x as r,t as i,R as L,S as le,U as ne,z as re,F as y,q as I,y as u,V as B,B as P,W as f,X as se,Y as ae,k as ie}from"./index-0d8bd4a6.js";import{Q as A,b as N,a as w}from"./QCard-b385de38.js";const Q=F({name:"QCardActions",props:{...J,vertical:Boolean},setup(e,{slots:t}){const o=M(e),s=R(()=>`q-card__actions ${o.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>W("div",{class:s.value},G(t.default))}});function U(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const g=H({name:"close-popup",beforeMount(e,{value:t}){const o={depth:U(t),handler(s){o.depth!==0&&setTimeout(()=>{const a=X(e);a!==void 0&&Y(a,s,o.depth)})},handlerKey(s){Z(s,13)===!0&&o.handler(s)}};e.__qclosepopup=o,e.addEventListener("click",o.handler),e.addEventListener("keyup",o.handlerKey)},updated(e,{value:t,oldValue:o}){t!==o&&(e.__qclosepopup.depth=U(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function ue(e){const t=Object.assign({noopener:!0},e),o=[];for(const s in t){const a=t[s];a===!0?o.push(s):(ee(a)||typeof a=="string"&&a!=="")&&o.push(s+"="+a)}return o.join(",")}function $(e,t,o){let s=window.open;if(b.is.cordova===!0){if(cordova!==void 0&&cordova.InAppBrowser!==void 0&&cordova.InAppBrowser.open!==void 0)s=cordova.InAppBrowser.open;else if(navigator!==void 0&&navigator.app!==void 0)return navigator.app.loadUrl(e,{openExternal:!0})}const a=s(e,"_blank",ue(o));if(a)return b.is.desktop&&a.focus(),a;t&&t()}const pe=(e,t,o)=>{if(b.is.ios===!0&&window.SafariViewController!==void 0){window.SafariViewController.isAvailable(s=>{s?window.SafariViewController.show({url:e},j,t):$(e,t,o)});return}return $(e,t,o)},z=e=>(se("data-v-c9ccefc7"),e=e(),ae(),e),ce={class:"q-pa-md"},de={class:"row"},ve={class:"col col-6"},me={class:"col col-6"},he=["href"],ke=["href"],fe=z(()=>p("div",{class:"text-h6"},"Добавление продукта",-1)),ge=z(()=>p("div",{class:"text-h6"},"Удалить список?",-1)),_e=te({__name:"ShoppingListView",setup(e){const{selectedShop1:t}=oe(),o=m(""),s=m(!1),a=m(!1),c=m(""),d=m(JSON.parse(localStorage.getItem("shoppingList")||"[]")||[]),K=m([{value:"lavka",label:"Яндекс Лавка",link:"https://lavka.yandex.ru/search?text=ingredient"},{value:"metro",label:"Metro",link:"https://online.metro-cc.ru/search?q=ingredient"},{value:"vkusvill",label:"Вкусвилл",link:"https://vkusvill.ru/search/?type=products&q=ingredient"},{value:"ozonfresh",label:"Ozon Fresh",link:"https://www.ozon.ru/category/supermarket-25000/?miniapp=supermarket&text=ingredient"},{value:"vprok",label:"Впрок",link:"https://www.vprok.ru/catalog/search?text=ingredient"},{value:"lenta",label:"Лента",link:"https://moscow.lenta.com/search/ingredient"},{value:"multisearch",label:"Купер Все магазины",link:"https://kuper.ru/multisearch?q=ingredient"},{value:"auchan",label:"Купер Ашан",link:"https://kuper.ru/auchan/search?keywords=ingredient&sort=unit_price_asc"},{value:"lentagp",label:"Купер Лента",link:"https://kuper.ru/lentagp/search?keywords=ingredient&sort=unit_price_asc"},{value:"globusgiper",label:"Купер Глобус",link:"https://kuper.ru/globusgiper/search?keywords=ingredient&sort=unit_price_asc"},{value:"okey",label:"Купер Окей",link:"https://kuper.ru/okey/search?keywords=ingredient&sort=unit_price_asc"},{value:"perekrestok",label:"Купер Перекресток",link:"https://kuper.ru/perekrestok/search?keywords=ingredient&sort=unit_price_asc"},{value:"perekrestokvprok",label:"Купер Перекресток Впрок",link:"https://kuper.ru/perekrestokvprok/search?keywords=ingredient&sort=unit_price_asc"},{value:"metro",label:"Купер Metro",link:"https://kuper.ru/metro/search?keywords=ingredient&sort=unit_price_asc"},{value:"vkusvill_darkstore",label:"Купер Вкусвилл",link:"https://kuper.ru/vkusvill_darkstore/search?keywords=ingredient&sort=unit_price_asc"}]),D=m(["Яблоки","Груши","Йогурт греческий","Йогурт термостатный","Яйцо куриное СО","Хлеб зерновой"]);function S(v){var l;return t.value.value==="multisearch"?"https://kuper.ru/multisearch?q="+v.trim():(l=t.value.link)==null?void 0:l.replace("ingredient",v.trim())}function E(){return t.value.value==="multisearch"?"https://kuper.ru/multisearch?q="+o.value.trim():t.value.link.replace("ingredient",o.value.trim())}function C(){pe(E())}function V(){c.value=c.value.trim(),c.value.length>0&&(d.value.push(c.value),localStorage.setItem("shoppingList",JSON.stringify(d.value)))}function O(v){d.value=d.value.filter(l=>l!==v),localStorage.setItem("shoppingList",JSON.stringify(d.value))}function q(v){navigator.clipboard.writeText(v)}function T(){localStorage.setItem("shoppingList","[]"),d.value=[]}return(v,l)=>(h(),k(y,null,[p("div",ce,[p("div",de,[p("div",ve,[r(A,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=n=>o.value=n),filled:"",type:"search",hint:"Поиск в магазине",onKeyup:L(C,["enter"])},{append:i(()=>[r(u,{color:"secondary","icon-right":"search",disable:o.value==="",onClick:C},null,8,["disable"])]),_:1},8,["modelValue"]),r(re,{modelValue:le(t),"onUpdate:modelValue":l[1]||(l[1]=n=>ne(t)?t.value=n:null),options:K.value,label:"Магазин",class:"q-select"},null,8,["modelValue","options"])]),p("div",me,[(h(!0),k(y,null,I(D.value,(n,_)=>(h(),k("ul",{key:_,class:"q-pl-md q-ma-none"},[p("a",{href:S(n),target:"_blank"},P(n),9,he),r(u,{flat:"",round:"",color:"secondary",icon:"mdi-content-copy",size:"sm",title:"Скопировать",onClick:x=>q(n)},null,8,["onClick"])]))),128)),r(u,{icon:"mdi-plus",color:"primary",class:"q-ml-md q-my-md",onClick:l[2]||(l[2]=n=>s.value=!0)}),r(u,{icon:"mdi-delete",color:"negative",class:"q-ml-md q-my-md",onClick:l[3]||(l[3]=n=>a.value=!0)}),(h(!0),k(y,null,I(d.value,(n,_)=>(h(),k("ul",{key:_,class:"q-pl-md q-ma-none"},[p("a",{href:S(n),target:"_blank"},P(n),9,ke),r(u,{flat:"",round:"",color:"secondary",icon:"mdi-content-copy",size:"sm",title:"Скопировать",onClick:x=>q(n)},null,8,["onClick"]),r(u,{flat:"",round:"",color:"orange-5",icon:"mdi-minus",size:"sm",class:"border-gray",onClick:x=>O(n)},null,8,["onClick"])]))),128))])])]),r(B,{modelValue:s.value,"onUpdate:modelValue":l[6]||(l[6]=n=>s.value=n),persistent:"",onBeforeShow:l[7]||(l[7]=n=>c.value="")},{default:i(()=>[r(N,{style:{"min-width":"350px"}},{default:i(()=>[r(w,null,{default:i(()=>[fe]),_:1}),r(w,{class:"q-pt-none"},{default:i(()=>[r(A,{modelValue:c.value,"onUpdate:modelValue":l[4]||(l[4]=n=>c.value=n),dense:"",autofocus:"",onKeyup:l[5]||(l[5]=L(n=>{V(),s.value=!1},["enter"]))},null,8,["modelValue"])]),_:1}),r(Q,{align:"right",class:"text-primary"},{default:i(()=>[f(r(u,{flat:"",label:"Отмена"},null,512),[[g]]),f(r(u,{color:"primary",label:"Добавить",onClick:V},null,512),[[g]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),r(B,{modelValue:a.value,"onUpdate:modelValue":l[8]||(l[8]=n=>a.value=n),persistent:""},{default:i(()=>[r(N,{style:{"min-width":"350px"}},{default:i(()=>[r(w,null,{default:i(()=>[ge]),_:1}),r(Q,{align:"right",class:"text-primary"},{default:i(()=>[f(r(u,{flat:"",label:"Отмена"},null,512),[[g]]),f(r(u,{color:"negative",label:"Удалить",onClick:T},null,512),[[g]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}});const be=ie(_e,[["__scopeId","data-v-c9ccefc7"]]);export{be as default};
